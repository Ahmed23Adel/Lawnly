<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=0.9">
    <link rel="icon" type="images/x-icon" href="{{ url_for('static', filename='images/newLogo.png') }}">
    <title>Lawnly - Home</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main.css') }}">
    <script src="{{url_for('static', filename='js/main.js')}}"></script>
    <script src="https://kit.fontawesome.com/0c7c27ff53.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@1.16.2/dist/tsparticles.min.js" integrity="sha256-2Sly/Hf9UP7YBu6LEPpn/6rxMZR5EeGq89mBa4G5+YA=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script> 
</head>

<body class="dark-mode" onload="detectTheme()" onresize="setupfont()">
  <div id="gallery-Wrapper">
    <div style="display: block;">
        <div class="sample-Header"><i class="fa fa-window-close closebtn" aria-hidden="true" onclick="CloseSample()"></i></div>
        <div id="sample-Gallery">
  
          <img src="{{ url_for('static', filename='images/Sample/20.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/19.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/18.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/17.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/16.jpg') }}" alt="" onclick="Select(this)">
          
          <img src="{{ url_for('static', filename='images/Sample/15.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/14.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/13.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/12.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/11.jpg') }}" alt="" onclick="Select(this)">
  
          <img src="{{ url_for('static', filename='images/Sample/10.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/9.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/8.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/7.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/6.jpg') }}" alt="" onclick="Select(this)">
  
          <img src="{{ url_for('static', filename='images/Sample/5.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/4.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/3.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/2.jpg') }}" alt="" onclick="Select(this)">
          <img src="{{ url_for('static', filename='images/Sample/21.jpg') }}" alt="" onclick="Select(this)">
  
        </div>
    </div>
  </div>
  <span id="mySidenavBtn" class="bouncy"  style="font-size: 5vw;position: absolute;cursor:pointer; z-index:2; visibility: hidden;" onclick="openNav()">&#9776;</span>
  <aside class="sidebar" id="mySidenav">
      <div style="display:flex ; width: inherit;">
        <img src="{{ url_for('static', filename='images/newLogo.png') }}" alt="Lawnly">
        <h1>Lawnly</h1>
    </div>

    <div class="nav_elements">
        <ul>
            <li><a class="active" href="{{ url_for('index') }}">Home</a></li>
            <li><a class="not-active" href="{{ url_for('about_us') }}">About Us</a></li>
            <li><a class="not-active" href="{{ url_for('about_model') }}">About The Model</a></li>
            <li><a class="not-active" href="https://github.com/Ahmed23Adel/Lawnly" target="_blank">GitHub</a></li>
            <li><a id="Bug" title="Report Bug or Suggestion" target="_blank"  href="https://forms.gle/8UVbSL1FS5ghQU3g6"><i class="fa fa-bug"></i></a></li>
            <li><i id="animate1" title="Control Animation" class="fa fa-spinner fa-spin" onclick="Animate()"></i></li>
            <li><i id="theme-toggler1" title="Control Theme" class="fa fa-sun" aria-hidden="true" onclick="toggler()"></i></li>
        </ul>
    </div>
  </aside>
  
  <nav id="MyNav">
        <div style="display:flex ;">
            <a class="nav-logo" href="{{ url_for('index') }}"><img src="{{ url_for('static', filename='images/newLogo.png') }}" alt="Lawnly"></a>
            <h1>Lawnly</h1>
        </div>

        <div class="nav_elements">
            <ul>
                <li><a class="active" href="{{ url_for('index') }}">Home</a></li>
                <li><a class="not-active" href="{{ url_for('about_us') }}">About Us</a></li>
                <li><a class="not-active" href="{{ url_for('about_model') }}">About The Model</a></li>
                <li><a class="not-active" href="https://github.com/Ahmed23Adel/Lawnly" target="_blank">GitHub</a></li>
                <li><a id="Bug" title="Report Bug or Suggestion" target="_blank"  href="https://forms.gle/8UVbSL1FS5ghQU3g6"><i class="fa fa-bug"></i></a></li>
                <li><i id="animate" title="Control Animation" class="fa fa-spinner fa-spin" onclick="Animate()"></i></li>
                <li><i id="theme-toggler" title="Control Theme" class="fa fa-sun" aria-hidden="true" onclick="toggler()"></i></li>
            </ul>
        </div>
    </nav>

    <div class="BackGround_Image">
        <div class="index_Bg" >
            <div id="particle-container"></div>
            <div class="main">
                <div class="drpdiv">
                  <div style="display:flex; justify-content: space-evenly ; width: 100%;">
                    <label title="Upload An Image To Colorize" class="button" for="fileElem">Upload <i class="fa fa-upload" aria-hidden="true"></i></label>
                    <label title="Try One Of Our Samples!" class="button bouncy" onclick="OpenSample()" >Try A Sample!</label>
                  </div>
                  <div id="drop-area">
                        <form id="myform" class="my-form" method='POST' enctype='multipart/form-data'>
                          <input type="file" id="fileElem" name="file1" multiple accept="image/*" onchange="handleFiles(this.files)" required>
                        </form>
                        <div id="gallery">
                            <img src="{{ url_for('static', filename='' + gray_val + '') }}" width=100%, alt="">
                        </div>
                    </div>
                    <label  class="button" onclick="LineArtIt()" title="Turn A Colored Image To Line Art">Turn To Line Art! <i class="fa fa-pencil" aria-hidden="true"></i></label>
                </div>

                <div class="drpdiv">
                    <a class="button" href="#" onclick="prepHref(this)" ><i class="fa fa-download"> </i> Download</a>
                    <div class="drop-area">
                        <div id="gallery-out">
                            <img src="{{ url_for('static', filename='' + gen_val + '') }}", alt="">
                        </div>
                    </div>
                    <label  class="pseudobtn">Turn To Line Art!</label>
                </div>
            </div>
            <button title="Colorize The Image" class="submit_button bouncy" type="submit" form="myform" value="Submit">Colorize <i class="fa fa-paint-brush" aria-hidden="true"></i></button>  
        </div>
    </div>

</body>

<script>
  /* ---- tsparticles config ---- */
  tsParticles.load("particle-container",
      {
      fpsLimit: 30,
      backgroundMode: {
        enable: true,
        zIndex: 0
      },
      particles: {
        number: {
          value: 100,
          density: {
            enable: true,
            area: 800
          }
        },
        color: {
          value: ["#ab0bd3", "#cf18fd", "#ef3aff"],
          animation: {
            enable: true,
            speed: 1,
            sync: true
          }
        },
        shape: {
          type: "circle",
          options: {
            polygon: {
              sides: 6
            },
            image: {
              src: "https://cdn.matteobruni.it/images/particles/github.svg",
              width: 100,
              height: 100
            }
          }
        },
        stroke: {
          width: 0
        },
        opacity: {
          value: 0.5,
          random: false,
          animation: {
            enable: false,
            speed: 1,
            minimumValue: 0.1,
            sync: false
          }
        },
        size: {
          value: 5,
          random: true,
          animation: {
            enable: false,
            speed: 40,
            minimumValue: 0.1,
            sync: false
          }
        },
        links: {
          enable: true,
          distance: 150,
          color: "#4bfa00",
          opacity: 0.7,
          width: 1
        },
        move: {
          enable: true,
          speed: 1,
          direction: "none",
          random: true,
          straight: false,
          outMode: "bounce",
          attract: {
            enable: false,
            rotateX: 600,
            rotateY: 1200
          }
        }
      },
      interactivity: {
        detectsOn: "canvas",
        events: {
          onHover: {
            enable: false,
            mode: "repulse"
          },
          onClick: {
            enable: true,
            mode: "push"
          },
          resize: false
        },
        modes: {
          grab: {
            distance: 400,
            links: {
              opacity: 1
            }
          },
          bubble: {
            distance: 400,
            size: 10,
            duration: 2,
            opacity: 0.8
          },
          repulse: {
            distance: 200
          },
          push: {
            quantity: 4
          },
          remove: {
            quantity: 2
          }
        }
      },
      detectRetina: true,
    })
</script>


<script>
    let dropArea = document.getElementById('drop-area')
    ;['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
    dropArea.addEventListener(eventName, preventDefaults, false)
    })

    function preventDefaults (e) {
        e.preventDefault()
        e.stopPropagation()
    }

    ;['dragenter', 'dragover'].forEach(eventName => {
    dropArea.addEventListener(eventName, highlight, false)
    })

    ;['dragleave', 'drop'].forEach(eventName => {
    dropArea.addEventListener(eventName, unhighlight, false)
    })

    function highlight(e) {
    dropArea.classList.add('highlight')
    }

    function unhighlight(e) {
    dropArea.classList.remove('highlight')
    }

    dropArea.addEventListener('drop', handleDrop, false)

    function handleDrop(e) {
    let dt = e.dataTransfer
    let files = dt.files

    handleFiles(files)
    }

    function handleFiles(files) {
        files = [...files]
        uploadFile(files[0])
        previewFile(files[0])
        files=[];
    }

    function uploadFile(file) {
        let url = 'YOUR URL HERE'
        let formData = new FormData()
        formData.append('file', file)
    }

    function previewFile(file) {
        let imgs= document.getElementById('gallery');
        imgs.innerHTML = '';

        let reader = new FileReader()
        reader.readAsDataURL(file)
        reader.onloadend = function() {
            let img = document.createElement('img')
            img.setAttribute('id', 'INPUT');//This Is where we create the input image in the html with id=INPUT
            img.src = reader.result
            imgs.appendChild(img)
        }
    }
</script>

</html>